<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for entity-ci-core/lib/EventManager/index.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">entity-ci-core/lib/EventManager/index.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(63 / 63)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(32 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(16 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(47 / 47)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric">2 statements, 3 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">entity-ci-core/lib/EventManager/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 *  ____            __        __                ____    ______
 * /\  _`\         /\ \__  __/\ \__            /\  _`\ /\__  _\
 * \ \ \L\_\    ___\ \ ,_\/\_\ \ ,_\  __  __   \ \ \/\_\/_/\ \/
 *  \ \  _\L  /' _ `\ \ \/\/\ \ \ \/ /\ \/\ \   \ \ \/_/_ \ \ \
 *   \ \ \L\ \/\ \/\ \ \ \_\ \ \ \ \_\ \ \_\ \   \ \ \L\ \ \_\ \__
 *    \ \____/\ \_\ \_\ \__\\ \_\ \__\\/`____ \   \ \____/ /\_____\
 *     \/___/  \/_/\/_/\/__/ \/_/\/__/ `/___/&gt; \   \/___/  \/_____/
 *                                        /\___/
 *                                        \/__/
 *
 * Entity CI - Core
 */
&nbsp;
/**
 * Provides the EventsManager class.
 *
 * @author Orgun109uk &lt;orgun109uk@gmail.com&gt;
 */
&nbsp;
'use strict';
&nbsp;
Object.defineProperty(exports, '__esModule', {
  value: true
});
// istanbul ignore next
&nbsp;
var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { <span class="skip-if-branch" title="else path not taken" >E</span>if (protoProps) defineProperties(Constructor.prototype, protoProps); <span class="skip-if-branch" title="if path not taken" >I</span>if (staticProps) <span class="cstat-skip" title="statement not covered" >defineProperties(Constructor, staticProps); </span>return Constructor; }; })();
&nbsp;
// istanbul ignore next
&nbsp;
function _classCallCheck(instance, Constructor) { <span class="skip-if-branch" title="if path not taken" >I</span>if (!(instance instanceof Constructor)) { <span class="cstat-skip" title="statement not covered" >throw new TypeError('Cannot call a class as a function'); </span>} }
&nbsp;
var async = require('async'),
    loader = require('nsloader'),
    sortBy = loader('EntityCI/Utils/SortBy'),
    EUndefinedEvent = loader('EntityCI/EventManager/Errors/EUndefinedEvent');
&nbsp;
var sEvents = Symbol('EventManager.events');
&nbsp;
/**
 * The events manager class.
 */
&nbsp;
var EventManager = (function () {
&nbsp;
  /**
   * Construct the event manager.
   */
&nbsp;
  function EventManager() {
    'use strict';
&nbsp;
    _classCallCheck(this, EventManager);
&nbsp;
    this[sEvents] = {};
  }
&nbsp;
  /**
   * Get an array of the registered event names.
   *
   * @type {Array}
   */
&nbsp;
  _createClass(EventManager, [{
    key: 'callbacks',
&nbsp;
    /**
     * Returns an array events listening callbacks.
     *
     * @param {String} event The name of the event to return.
     * @return {Array} An array of the listening callbacks.
     * @throws {EUndefinedEvent} Thrown if the event is not defined.
     */
    value: function callbacks(event) {
      'use strict';
&nbsp;
      if (this[sEvents][event] === undefined) {
        throw new EUndefinedEvent(event);
      }
&nbsp;
      return this[sEvents][event];
    }
&nbsp;
    /**
     * Registers an event listener.
     *
     * @param {String} event The event to listen for.
     * @param {Function} callback The callback method.
     * @param {Function} callback.next The callbacks 'next' method.
     * @param {Object} callback.params An object storing the params sent to
     *   each callback.
     * @param {Object} [scope=null] The scope to apply to the callback.
     * @param {Integer} [weight=0] The weight to apply to the callback.
     * @return {EventManager} Returns self.
     */
  }, {
    key: 'listen',
    value: function listen(event, callback, scope, weight) {
      'use strict';
&nbsp;
      if (this[sEvents][event] === undefined) {
        this[sEvents][event] = [];
      }
&nbsp;
      this[sEvents][event].push({
        callback: callback,
        scope: scope || null,
        weight: weight || 0
      });
&nbsp;
      sortBy(this[sEvents][event], 'weight');
      return this;
    }
&nbsp;
    /**
     * Removes an event callback, or an event.
     *
     * @param {String} event The event to unlisten.
     * @param {Function} [callback] The specific callback to remove, if not
     *   defined the whole event is unlistened.
     * @return {EventManager} Returns self.
     * @throws {EUndefinedEvent} Thrown if the event is not defined.
     */
  }, {
    key: 'unlisten',
    value: function unlisten(event, callback) {
      'use strict';
&nbsp;
      if (this[sEvents][event] === undefined) {
        throw new EUndefinedEvent(event);
      }
&nbsp;
      if (callback) {
        var events = [];
        for (var i = 0, len = this[sEvents][event].length; i &lt; len; i++) {
          if (this[sEvents][event][i].callback !== callback) {
            events.push(this[sEvents][event][i]);
          }
        }
&nbsp;
        if (events.length &gt; 0) {
          this[sEvents][event] = events;
        } else {
          delete this[sEvents][event];
        }
      } else {
        delete this[sEvents][event];
      }
&nbsp;
      return this;
    }
&nbsp;
    /**
     * Fires all callbacks of a given event.
     *
     * @param {String} event The event to fire.
     * @param {Function} [done] The done callback.
     * @param {Error} done.err Any raised errors.
     * @param {Object} [params] Any params to send to the callbacks.
     */
  }, {
    key: 'fire',
    value: function fire(event, done, params) {
      'use strict';
&nbsp;
      done = done || function () {};
&nbsp;
      if (this[sEvents][event] === undefined) {
        return done(null);
      }
&nbsp;
      function fireCallback(cb) {
        return function (next) {
          try {
            cb.callback.call(cb.scope, next, params);
          } catch (err) {
            next(err);
          }
        };
      }
&nbsp;
      var queue = [];
      this[sEvents][event].forEach(function (item) {
        queue.push(fireCallback(item));
      });
&nbsp;
      async.series(queue, function (err) {
        done(err ? err : null);
      });
    }
  }, {
    key: 'events',
    get: function get() {
      'use strict';
&nbsp;
      return Object.keys(this[sEvents]);
    }
  }]);
&nbsp;
  return EventManager;
})();
&nbsp;
exports['default'] = EventManager;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS93b3Jrc3BhY2UvZW50aXR5LWNpLWNvcmUvbGliL0V2ZW50TWFuYWdlci9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQkEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUN4QixNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUM1QixNQUFNLEdBQUcsTUFBTSxDQUFDLHVCQUF1QixDQUFDO0lBQ3hDLGVBQWUsR0FBRyxNQUFNLENBQUMsOENBQThDLENBQUMsQ0FBQzs7QUFFN0UsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUM7Ozs7OztJQUt2QixZQUFZOzs7Ozs7QUFLcEIsV0FMUSxZQUFZLEdBS2pCO0FBQ1osZ0JBQVksQ0FBQzs7MEJBTkksWUFBWTs7QUFRN0IsUUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztHQUNwQjs7Ozs7Ozs7ZUFUa0IsWUFBWTs7Ozs7Ozs7OztXQTZCdEIsbUJBQUMsS0FBSyxFQUFFO0FBQ2Ysa0JBQVksQ0FBQzs7QUFFYixVQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxTQUFTLEVBQUU7QUFDdEMsY0FBTSxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUNsQzs7QUFFRCxhQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUM3Qjs7Ozs7Ozs7Ozs7Ozs7OztXQWNLLGdCQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtBQUNyQyxrQkFBWSxDQUFDOztBQUViLFVBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLFNBQVMsRUFBRTtBQUN0QyxZQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxD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O0FBQ1gsa0JBQVksQ0FBQzs7QUFFYixhQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDbkM7OztTQXBCa0IsWUFBWTs7O3FCQUFaLFlBQVkiLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3dvcmtzcGFjZS9lbnRpdHktY2ktY29yZS9saWIvRXZlbnRNYW5hZ2VyL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiAgX19fXyAgICAgICAgICAgIF9fICAgICAgICBfXyAgICAgICAgICAgICAgICBfX19fICAgIF9fX19fX1xuICogL1xcICBfYFxcICAgICAgICAgL1xcIFxcX18gIF9fL1xcIFxcX18gICAgICAgICAgICAvXFwgIF9gXFwgL1xcX18gIF9cXFxuICogXFwgXFwgXFxMXFxfXFwgICAgX19fXFwgXFwgLF9cXC9cXF9cXCBcXCAsX1xcICBfXyAgX18gICBcXCBcXCBcXC9cXF9cXC9fL1xcIFxcL1xuICogIFxcIFxcICBfXFxMICAvJyBfIGBcXCBcXCBcXC9cXC9cXCBcXCBcXCBcXC8gL1xcIFxcL1xcIFxcICAgXFwgXFwgXFwvXy9fIFxcIFxcIFxcXG4gKiAgIFxcIFxcIFxcTFxcIFxcL1xcIFxcL1xcIFxcIFxcIFxcX1xcIFxcIFxcIFxcIFxcX1xcIFxcIFxcX1xcIFxcICAgXFwgXFwgXFxMXFwgXFwgXFxfXFwgXFxfX1xuICogICAgXFwgXFxfX19fL1xcIFxcX1xcIFxcX1xcIFxcX19cXFxcIFxcX1xcIFxcX19cXFxcL2BfX19fIFxcICAgXFwgXFxfX19fLyAvXFxfX19fX1xcXG4gKiAgICAgXFwvX19fLyAgXFwvXy9cXC9fL1xcL19fLyBcXC9fL1xcL19fLyBgL19fXy8+IFxcICAgXFwvX19fLyAgXFwvX19fX18vXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXFxfX18vXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXC9fXy9cbiAqXG4gKiBFbnRpdHkgQ0kgLSBDb3JlXG4gKi9cblxuLyoqXG4gKiBQcm92aWRlcyB0aGUgRXZlbnRzTWFuYWdlciBjbGFzcy5cbiAqXG4gKiBAYXV0aG9yIE9yZ3VuMTA5dWsgPG9yZ3VuMTA5dWtAZ21haWwuY29tPlxuICovXG5cbnZhciBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJyksXG4gICAgbG9hZGVyID0gcmVxdWlyZSgnbnNsb2FkZXInKSxcbiAgICBzb3J0QnkgPSBsb2FkZXIoJ0VudGl0eUNJL1V0aWxzL1NvcnRCeScpLFxuICAgIEVVbmRlZmluZWRFdmVudCA9IGxvYWRlcignRW50aXR5Q0kvRXZlbnRNYW5hZ2VyL0Vycm9ycy9FVW5kZWZpbmVkRXZlbnQnKTtcblxudmFyIHNFdmVudHMgPSBTeW1ib2woJ0V2ZW50TWFuYWdlci5ldmVudHMnKTtcblxuLyoqXG4gKiBUaGUgZXZlbnRzIG1hbmFnZXIgY2xhc3MuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50TWFuYWdlciB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCB0aGUgZXZlbnQgbWFuYWdlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHRoaXNbc0V2ZW50c10gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gYXJyYXkgb2YgdGhlIHJlZ2lzdGVyZWQgZXZlbnQgbmFtZXMuXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheX1cbiAgICovXG4gIGdldCBldmVudHMoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXNbc0V2ZW50c10pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgZXZlbnRzIGxpc3RlbmluZyBjYWxsYmFja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuLlxuICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdGhlIGxpc3RlbmluZyBjYWxsYmFja3MuXG4gICAqIEB0aHJvd3Mge0VVbmRlZmluZWRFdmVudH0gVGhyb3duIGlmIHRoZSBldmVudCBpcyBub3QgZGVmaW5lZC5cbiAgICovXG4gIGNhbGxiYWNrcyhldmVudCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmICh0aGlzW3NFdmVudHNdW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRVVuZGVmaW5lZEV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1tzRXZlbnRzXVtldmVudF07XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgVGhlIGV2ZW50IHRvIGxpc3RlbiBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayBtZXRob2QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrLm5leHQgVGhlIGNhbGxiYWNrcyAnbmV4dCcgbWV0aG9kLlxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FsbGJhY2sucGFyYW1zIEFuIG9iamVjdCBzdG9yaW5nIHRoZSBwYXJhbXMgc2VudCB0b1xuICAgKiAgIGVhY2ggY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGU9bnVsbF0gVGhlIHNjb3BlIHRvIGFwcGx5IHRvIHRoZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBbd2VpZ2h0PTBdIFRoZSB3ZWlnaHQgdG8gYXBwbHkgdG8gdGhlIGNhbGxiYWNrLlxuICAgKiBAcmV0dXJuIHtFdmVudE1hbmFnZXJ9IFJldHVybnMgc2VsZi5cbiAgICovXG4gIGxpc3RlbihldmVudCwgY2FsbGJhY2ssIHNjb3BlLCB3ZWlnaHQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAodGhpc1tzRXZlbnRzXVtldmVudF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpc1tzRXZlbnRzXVtldmVudF0gPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzW3NFdmVudHNdW2V2ZW50XS5wdXNoKHtcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgIHNjb3BlOiBzY29wZSB8fCBudWxsLFxuICAgICAgd2VpZ2h0OiB3ZWlnaHQgfHwgMFxuICAgIH0pO1xuXG4gICAgc29ydEJ5KHRoaXNbc0V2ZW50c11bZXZlbnRdLCAnd2VpZ2h0Jyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBldmVudCBjYWxsYmFjaywgb3IgYW4gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBUaGUgZXZlbnQgdG8gdW5saXN0ZW4uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIHNwZWNpZmljIGNhbGxiYWNrIHRvIHJlbW92ZSwgaWYgbm90XG4gICAqICAgZGVmaW5lZCB0aGUgd2hvbGUgZXZlbnQgaXMgdW5saXN0ZW5lZC5cbiAgICogQHJldHVybiB7RXZlbnRNYW5hZ2VyfSBSZXR1cm5zIHNlbGYuXG4gICAqIEB0aHJvd3Mge0VVbmRlZmluZWRFdmVudH0gVGhyb3duIGlmIHRoZSBldmVudCBpcyBub3QgZGVmaW5lZC5cbiAgICovXG4gIHVubGlzdGVuKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmICh0aGlzW3NFdmVudHNdW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRVVuZGVmaW5lZEV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBldmVudHMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzW3NFdmVudHNdW2V2ZW50XS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpc1tzRXZlbnRzXVtldmVudF1baV0uY2FsbGJhY2sgIT09IGNhbGxiYWNrKSB7XG4gICAgICAgICAgZXZlbnRzLnB1c2godGhpc1tzRXZlbnRzXVtldmVudF1baV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzW3NFdmVudHNdW2V2ZW50XSA9IGV2ZW50cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW3NFdmVudHNdW2V2ZW50XTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXNbc0V2ZW50c11bZXZlbnRdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIGFsbCBjYWxsYmFja3Mgb2YgYSBnaXZlbiBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBldmVudCB0byBmaXJlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gVGhlIGRvbmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7RXJyb3J9IGRvbmUuZXJyIEFueSByYWlzZWQgZXJyb3JzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gQW55IHBhcmFtcyB0byBzZW5kIHRvIHRoZSBjYWxsYmFja3MuXG4gICAqL1xuICBmaXJlKGV2ZW50LCBkb25lLCBwYXJhbXMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBkb25lID0gZG9uZSB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICAgIGlmICh0aGlzW3NFdmVudHNdW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZG9uZShudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXJlQ2FsbGJhY2soY2IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNiLmNhbGxiYWNrLmNhbGwoY2Iuc2NvcGUsIG5leHQsIHBhcmFtcyk7XG4gICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgbmV4dChlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgIHRoaXNbc0V2ZW50c11bZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHF1ZXVlLnB1c2goZmlyZUNhbGxiYWNrKGl0ZW0pKTtcbiAgICB9KTtcblxuICAgIGFzeW5jLnNlcmllcyhxdWV1ZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgZG9uZShlcnIgPyBlcnIgOiBudWxsKTtcbiAgICB9KTtcbiAgfVxuXG59XG4iXX0=</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Sep 04 2015 07:59:28 GMT+0000 (UTC)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
